# Set variable which point to library relative dir

option(SUPPORT_XML2 "define process architecture" ON)

if (NOT(${SUPPORT_XML2} MATCHES OFF))
    if (WIN32)
        set(XML2_LIBRARIES libxml2)
    else()
        set(XML2_LIBRARIES xml2)
    endif()
endif ()

file(TO_CMAKE_PATH $ENV{GENERIC_DEVELOPMENT_ENVIRONMENT_ROOT} GENERIC_DEVELOPMENT_ENVIRONMENT_ROOT)
if (UNIX)
    if (${USE_XENOMAI_ENV} EQUAL 1)
        set(GENERIC_LIBRARY_DIR $ENV{OS_NAME}/${GENERIC_PROCESSOR_ARCHITECTURE}/${GENERIC_TARGET_PLATFORM}/xenomai-${XENOMAI_VERSION})
    else()
        set(GENERIC_LIBRARY_DIR $ENV{OS_NAME}/${GENERIC_PROCESSOR_ARCHITECTURE}/${GENERIC_TARGET_PLATFORM})
    endif ()
else()
    set(GENERIC_LIBRARY_DIR $ENV{OS_NAME}/${GENERIC_PROCESSOR_ARCHITECTURE}/${GENERIC_TARGET_PLATFORM}/${MS_TOOLCHAIN_VERSION})
endif ()
set(GENERIC_LIB_ROOT ${GENERIC_DEVELOPMENT_ENVIRONMENT_ROOT}/lib)
set(GENERIC_3DPARTY_LIB_ROOT ${GENERIC_LIB_ROOT}/3dParty/${GENERIC_LIBRARY_DIR})
set(GENERIC_BASICSDK_LIB_ROOT ${GENERIC_LIB_ROOT}/BasicSdk/${GENERIC_LIBRARY_DIR})
set(GENERIC_TOOLSDK_LIB_ROOT ${GENERIC_LIB_ROOT}/ToolSdk/${GENERIC_LIBRARY_DIR})
set(GENERIC_COMPONENTS_LIB_ROOT ${GENERIC_LIB_ROOT}/Components/${GENERIC_LIBRARY_DIR})
set(GENERIC_HAL_LIB_ROOT ${GENERIC_LIB_ROOT}/HAL/${GENERIC_LIBRARY_DIR})
set(GENERIC_PLUGINS_LIB_ROOT ${GENERIC_LIB_ROOT}/Plugins/${GENERIC_LIBRARY_DIR})

set(GENERIC_LIB_DIRECTORIES
    ${GENERIC_3DPARTY_LIB_ROOT}
    ${GENERIC_BASICSDK_LIB_ROOT}
    ${GENERIC_TOOLSDK_LIB_ROOT}
    ${GENERIC_COMPONENTS_LIB_ROOT}
    ${GENERIC_HAL_LIB_ROOT}
    ${GENERIC_PLUGINS_LIB_ROOT}
    ${CMAKE_CURRENT_SOURCE_DIR}
)

if(GENERIC_BASICSDK_LIBRARY)
    message("This is BasicSdk Project.")
else()
    if(GENERIC_TOOLSDK_LIBRARY)
        message("This is ToolSdk Project.")
        set(GENERIC_LINK_LIBRARIES
            BasicSdk)
    else()
        set(GENERIC_LINK_LIBRARIES
            ToolSdk${CMAKE_BUILD_POSTFIX}
            BasicSdk)
    endif()
    set(GENERIC_LINK_LIBRARIES
        ${GENERIC_LINK_LIBRARIES}
        ${XML2_LIBRARIES})
endif()
if (WIN32)
    set(GENERIC_LINK_LIBRARIES
        ${GENERIC_LINK_LIBRARIES})
else ()
    set(GENERIC_LINK_LIBRARIES
        ${GENERIC_LINK_LIBRARIES}
        dl
        rt
        pthread)
endif ()

